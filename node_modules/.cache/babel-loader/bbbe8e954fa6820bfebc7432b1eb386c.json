{"ast":null,"code":"\"use strict\"; // Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.typed-array.at.js\");\n\nrequire(\"core-js/modules/es.typed-array.set.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar QUOTA = 65536;\n\nvar BrowserRandomSource =\n/** @class */\nfunction () {\n  function BrowserRandomSource() {\n    this.isAvailable = false;\n    this.isInstantiated = false;\n    var browserCrypto = typeof self !== 'undefined' ? self.crypto || self.msCrypto // IE11 has msCrypto\n    : null;\n\n    if (browserCrypto && browserCrypto.getRandomValues) {\n      this._crypto = browserCrypto;\n      this.isAvailable = true;\n      this.isInstantiated = true;\n    }\n  }\n\n  BrowserRandomSource.prototype.randomBytes = function (length) {\n    if (!this.isAvailable || !this._crypto) {\n      throw new Error(\"Browser random byte generator is not available.\");\n    }\n\n    var out = new Uint8Array(length);\n\n    for (var i = 0; i < out.length; i += QUOTA) {\n      this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n    }\n\n    return out;\n  };\n\n  return BrowserRandomSource;\n}();\n\nexports.BrowserRandomSource = BrowserRandomSource;","map":{"version":3,"mappings":"cAAA;AACA;;;;;;;;;;;AAIA,IAAMA,KAAK,GAAG,KAAd;;AAEA;AAAA;AAAA;EAMI;IALA,mBAAc,KAAd;IACA,sBAAiB,KAAjB;IAKI,IAAMC,aAAa,GAAG,OAAOC,IAAP,KAAgB,WAAhB,GACfA,IAAI,CAACC,MAAL,IAAgBD,IAA2B,CAACE,QAD7B,CACuC;IADvC,EAEhB,IAFN;;IAIA,IAAIH,aAAa,IAAIA,aAAa,CAACI,eAAnC,EAAoD;MAChD,KAAKC,OAAL,GAAeL,aAAf;MACA,KAAKM,WAAL,GAAmB,IAAnB;MACA,KAAKC,cAAL,GAAsB,IAAtB;IACH;EACJ;;EAEDC,sDAAYC,MAAZ,EAA0B;IACtB,IAAI,CAAC,KAAKH,WAAN,IAAqB,CAAC,KAAKD,OAA/B,EAAwC;MACpC,MAAM,IAAIK,KAAJ,CAAU,iDAAV,CAAN;IACH;;IACD,IAAMC,GAAG,GAAG,IAAIC,UAAJ,CAAeH,MAAf,CAAZ;;IACA,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACF,MAAxB,EAAgCI,CAAC,IAAId,KAArC,EAA4C;MACxC,KAAKM,OAAL,CAAaD,eAAb,CAA6BO,GAAG,CAACG,QAAJ,CAAaD,CAAb,EAAgBA,CAAC,GAAGE,IAAI,CAACC,GAAL,CAASL,GAAG,CAACF,MAAJ,GAAaI,CAAtB,EAAyBd,KAAzB,CAApB,CAA7B;IACH;;IACD,OAAOY,GAAP;EACH,CATD;;EAUJ;AAAC,CA5BD;;AAAaM","names":["QUOTA","browserCrypto","self","crypto","msCrypto","getRandomValues","_crypto","isAvailable","isInstantiated","BrowserRandomSource","length","Error","out","Uint8Array","i","subarray","Math","min","exports"],"sourceRoot":"","sources":["../../source/browser.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}