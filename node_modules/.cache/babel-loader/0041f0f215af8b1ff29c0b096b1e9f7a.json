{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { generateGUID } from '@airgap/beacon-utils';\nimport { toastTemplates } from './toast-templates';\nimport { getColorMode } from '../../utils/colorMode';\nimport { createIconSVGExternal, createSanitizedElement } from '../../utils/html-elements';\nimport { constructPoweredByBeacon, constructToastContainer } from '../../utils/templates';\nlet document;\n\nif (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\n  document = window.document;\n}\n\nconst EXPAND_AFTER = 5 * 1000;\nlet timeout;\nlet expandTimeout;\nlet globalToastConfig;\n\nconst createActionItem = toastAction => __awaiter(void 0, void 0, void 0, function* () {\n  const {\n    text,\n    isBold,\n    actionText,\n    actionLogo,\n    actionCallback\n  } = toastAction;\n  const id = yield generateGUID();\n  const wrapper = document.createElement('div');\n  wrapper.classList.add('beacon-toast__action__item');\n  removeAllChildNodes(wrapper);\n\n  const wrapBold = element => {\n    return createSanitizedElement('strong', [], [], element);\n  };\n\n  if (actionCallback) {\n    if (text.length > 0) {\n      wrapper.appendChild(createSanitizedElement('p', [], [], text));\n    }\n\n    const textEl = createSanitizedElement('span', [], [], [createSanitizedElement('span', [], [], actionText), actionLogo && actionLogo === 'external' ? createIconSVGExternal() : undefined]);\n    wrapper.appendChild(createSanitizedElement('p', [], [], [createSanitizedElement('a', [], [['id', id]], [isBold ? wrapBold([textEl]) : textEl])]));\n  } else if (actionText) {\n    if (text.length > 0) {\n      wrapper.appendChild(createSanitizedElement('p', ['beacon-toast__action__item__subtitle'], [], text));\n    }\n\n    const textEl = createSanitizedElement('span', [], [], actionText);\n    wrapper.appendChild(createSanitizedElement('p', [], [], [isBold ? wrapBold([textEl]) : textEl]));\n  } else {\n    const textEl = createSanitizedElement('p', [], [], text);\n    wrapper.appendChild(isBold ? wrapBold([textEl]) : textEl);\n  }\n\n  if (actionCallback) {\n    wrapper.addEventListener('click', actionCallback);\n  }\n\n  return wrapper;\n});\n\nconst removeAllChildNodes = parent => {\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n};\n\nconst formatToastText = html => {\n  var _a, _b;\n\n  const walletIcon = (_a = globalToastConfig === null || globalToastConfig === void 0 ? void 0 : globalToastConfig.walletInfo) === null || _a === void 0 ? void 0 : _a.icon;\n  const walletName = (_b = globalToastConfig === null || globalToastConfig === void 0 ? void 0 : globalToastConfig.walletInfo) === null || _b === void 0 ? void 0 : _b.name;\n  let walletEl;\n  const walletNameEl = createSanitizedElement('strong', [], [], walletName !== null && walletName !== void 0 ? walletName : 'Wallet');\n\n  if (walletIcon) {\n    walletEl = createSanitizedElement('span', ['beacon-toast__wallet__container'], [], [createSanitizedElement('img', ['beacon-toast__content__img'], [['src', walletIcon]], ''), walletNameEl]);\n  } else {\n    walletEl = walletNameEl;\n  }\n\n  const splits = html.split(`{{wallet}}`);\n\n  if (splits.length === 1) {\n    return [createSanitizedElement('span', [], [], html)];\n  } else {\n    const out = [];\n\n    for (let x = 0; x < splits.length; x++) {\n      out.push(createSanitizedElement('span', [], [], splits[x]));\n\n      if (x < splits.length - 1) {\n        out.push(walletEl);\n      }\n    }\n\n    return out;\n  }\n};\n\nconst getToastHTML = config => {\n  const text = config.body;\n  const elements = formatToastText(text);\n  const outerEl = createSanitizedElement('span', ['beacon-toast__wallet__outer'], [], elements);\n  const toastContainerEl = constructToastContainer([outerEl]);\n  return {\n    style: toastTemplates.default.css,\n    html: toastContainerEl\n  };\n};\n/**\n * Close a toast\n */\n\n\nconst closeToast = () => new Promise(resolve => {\n  var _a;\n\n  globalToastConfig = undefined;\n  const wrapper = document.getElementById('beacon-toast-wrapper');\n\n  if (!wrapper) {\n    return resolve();\n  }\n\n  const elm = (_a = wrapper.shadowRoot) === null || _a === void 0 ? void 0 : _a.getElementById('beacon-toast');\n\n  if (elm) {\n    const animationDuration = 300;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    elm.className = elm.className.replace('fadeIn', 'fadeOut');\n    window.setTimeout(() => {\n      const parent = wrapper.parentNode;\n\n      if (parent) {\n        parent.removeChild(wrapper);\n      }\n\n      resolve();\n    }, animationDuration);\n  } else {\n    resolve();\n  }\n});\n\nconst registerClick = (shadowRoot, id, callback) => {\n  const button = shadowRoot.getElementById(id);\n\n  if (button) {\n    button.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\n      yield callback(button);\n    }));\n  }\n\n  return button;\n};\n\nconst showElement = (shadowRoot, id) => {\n  const el = shadowRoot.getElementById(id);\n\n  if (el) {\n    el.classList.remove('hide');\n    el.classList.add('show');\n  }\n};\n\nconst hideElement = (shadowRoot, id) => {\n  const el = shadowRoot.getElementById(id);\n\n  if (el) {\n    el.classList.add('hide');\n    el.classList.remove('show');\n  }\n}; // const showLoader = (): void => {\n//   showElement('beacon-toast-loader')\n// }\n\n\nconst hideLoader = shadowRoot => {\n  hideElement(shadowRoot, 'beacon-toast-loader');\n  showElement(shadowRoot, 'beacon-toast-loader-placeholder');\n};\n\nconst showExpand = shadowRoot => {\n  showElement(shadowRoot, 'beacon-toast-button-expand');\n  hideElement(shadowRoot, 'beacon-toast-button-close');\n};\n\nconst showClose = shadowRoot => {\n  showElement(shadowRoot, 'beacon-toast-button-close');\n  hideElement(shadowRoot, 'beacon-toast-button-expand');\n};\n\nconst collapseList = shadowRoot => {\n  const expandButton = shadowRoot.getElementById('beacon-toast-button-expand');\n  const list = shadowRoot.getElementById('beacon-toast-list');\n\n  if (expandButton && list) {\n    expandButton.classList.remove('beacon-toast__upside_down');\n    list.classList.add('hide');\n    list.classList.remove('show');\n  }\n};\n\nconst expandList = shadowRoot => {\n  const expandButton = shadowRoot.getElementById('beacon-toast-button-expand');\n  const list = shadowRoot.getElementById('beacon-toast-list');\n\n  if (expandButton && list) {\n    expandButton.classList.add('beacon-toast__upside_down');\n    list.classList.remove('hide');\n    list.classList.add('show');\n  }\n};\n\nconst expandOrCollapseList = shadowRoot => {\n  const expandButton = shadowRoot.getElementById('beacon-toast-button-expand');\n  const list = shadowRoot.getElementById('beacon-toast-list');\n\n  if (expandButton && list) {\n    if (expandButton.classList.contains('beacon-toast__upside_down')) {\n      collapseList(shadowRoot);\n    } else {\n      expandList(shadowRoot);\n    }\n  }\n};\n\nconst addActionsToToast = (shadowRoot, toastConfig, list) => __awaiter(void 0, void 0, void 0, function* () {\n  const actions = toastConfig.actions;\n\n  if (actions && actions.length > 0) {\n    const actionPromises = actions.map(action => __awaiter(void 0, void 0, void 0, function* () {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      return createActionItem(action);\n    }));\n    const actionItems = yield Promise.all(actionPromises);\n    actionItems.forEach(item => list.appendChild(item));\n    const poweredByBeacon = document.createElement('small');\n    poweredByBeacon.classList.add('beacon-toast__powered');\n    poweredByBeacon.appendChild(constructPoweredByBeacon());\n    list.appendChild(poweredByBeacon);\n    showExpand(shadowRoot);\n  } else {\n    showClose(shadowRoot);\n    collapseList(shadowRoot);\n  }\n});\n\nconst createNewToast = toastConfig => __awaiter(void 0, void 0, void 0, function* () {\n  globalToastConfig = toastConfig;\n  const timer = toastConfig.timer;\n  const shadowRootEl = document.createElement('div');\n  shadowRootEl.setAttribute('id', 'beacon-toast-wrapper');\n  const shadowRoot = shadowRootEl.attachShadow({\n    mode: 'open'\n  });\n  const wrapper = document.createElement('div');\n  const {\n    style,\n    html\n  } = getToastHTML(toastConfig);\n  wrapper.appendChild(html);\n  const styleEl = document.createElement('style');\n  styleEl.textContent = style;\n  shadowRoot.appendChild(wrapper);\n  shadowRoot.appendChild(styleEl);\n\n  if (timer) {\n    timeout = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeToast();\n    }), timer);\n  }\n\n  document.body.prepend(shadowRootEl);\n  const colorMode = getColorMode();\n  const elm = shadowRoot.getElementById(`beacon-toast`);\n\n  if (elm) {\n    elm.classList.add(`theme__${colorMode}`);\n  }\n\n  const list = shadowRoot.getElementById('beacon-toast-list');\n\n  if (list) {\n    yield addActionsToToast(shadowRoot, toastConfig, list);\n  }\n\n  const openWalletButtonEl = shadowRoot.getElementById('beacon-open-wallet');\n\n  if (openWalletButtonEl) {\n    if (toastConfig.openWalletAction) {\n      openWalletButtonEl.addEventListener('click', () => {\n        if (toastConfig.openWalletAction) {\n          toastConfig.openWalletAction();\n        }\n      });\n    } else {\n      openWalletButtonEl.classList.add('hide');\n    }\n  }\n\n  if (globalToastConfig.state === 'loading') {\n    expandTimeout = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n      const expandButton = shadowRoot.getElementById('beacon-toast-button-expand');\n\n      if (expandButton && !expandButton.classList.contains('beacon-toast__upside_down')) {\n        expandOrCollapseList(shadowRoot);\n      }\n    }), EXPAND_AFTER);\n  }\n\n  registerClick(shadowRoot, 'beacon-toast-button-done', () => __awaiter(void 0, void 0, void 0, function* () {\n    yield closeToast();\n  }));\n  const closeButton = registerClick(shadowRoot, 'beacon-toast-button-close', () => __awaiter(void 0, void 0, void 0, function* () {\n    yield closeToast();\n  }));\n\n  if (closeButton && globalToastConfig.state === 'loading') {\n    closeButton.classList.add('hide');\n  }\n\n  registerClick(shadowRoot, 'beacon-toast-button-expand', () => __awaiter(void 0, void 0, void 0, function* () {\n    expandOrCollapseList(shadowRoot);\n  }));\n});\n\nconst updateToast = toastConfig => __awaiter(void 0, void 0, void 0, function* () {\n  globalToastConfig = Object.assign(Object.assign({}, globalToastConfig), toastConfig);\n  const timer = toastConfig.timer;\n  const wrapper = document.getElementById('beacon-toast-wrapper');\n\n  if (!wrapper) {\n    return;\n  }\n\n  const shadowRoot = wrapper.shadowRoot;\n\n  if (!shadowRoot) {\n    return;\n  }\n\n  const list = shadowRoot.getElementById('beacon-toast-list');\n\n  if (list) {\n    removeAllChildNodes(list);\n    yield addActionsToToast(shadowRoot, toastConfig, list);\n  }\n\n  if (globalToastConfig.state === 'loading') {\n    expandTimeout = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n      const expandButton = shadowRoot.getElementById('beacon-toast-button-expand');\n\n      if (expandButton && !expandButton.classList.contains('beacon-toast__upside_down')) {\n        expandOrCollapseList(shadowRoot);\n      }\n    }), EXPAND_AFTER);\n  }\n\n  const toastTextEl = shadowRoot.getElementById('beacon-text-content');\n\n  if (toastTextEl) {\n    removeAllChildNodes(toastTextEl);\n    toastTextEl.appendChild(createSanitizedElement('span', ['beacon-toast__wallet__outer'], [], formatToastText(toastConfig.body)));\n  }\n\n  const openWalletButtonEl = shadowRoot.getElementById('beacon-open-wallet');\n\n  if (openWalletButtonEl) {\n    if (toastConfig.openWalletAction) {\n      openWalletButtonEl.classList.remove('hide');\n      openWalletButtonEl.addEventListener('click', () => {\n        if (toastConfig.openWalletAction) {\n          toastConfig.openWalletAction();\n        }\n      });\n    } else {\n      openWalletButtonEl.classList.add('hide');\n    }\n  }\n\n  if (timer) {\n    timeout = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeToast();\n    }), timer);\n  }\n\n  const doneButton = shadowRoot.getElementById('beacon-toast-button-done');\n\n  if (doneButton) {\n    doneButton.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeToast();\n    }));\n  }\n});\n/**\n * Create a new toast\n *\n * @param toastConfig Configuration of the toast\n */\n\n\nconst openToast = toastConfig => __awaiter(void 0, void 0, void 0, function* () {\n  var _a;\n\n  if (expandTimeout) {\n    clearTimeout(expandTimeout);\n  }\n\n  const wrapper = document.getElementById('beacon-toast-wrapper');\n\n  if (wrapper) {\n    if (toastConfig.forceNew) {\n      yield closeToast();\n      yield createNewToast(toastConfig);\n    } else {\n      yield updateToast(toastConfig);\n    }\n  } else {\n    yield createNewToast(toastConfig);\n  }\n\n  if (globalToastConfig && globalToastConfig.state === 'finished') {\n    const shadowRoot = (_a = document.getElementById('beacon-toast-wrapper')) === null || _a === void 0 ? void 0 : _a.shadowRoot;\n\n    if (shadowRoot) {\n      hideLoader(shadowRoot);\n      showClose(shadowRoot);\n      expandList(shadowRoot);\n    }\n  }\n\n  return;\n});\n\nexport { closeToast, openToast };","map":{"version":3,"mappings":"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","names":["generateGUID","toastTemplates","getColorMode","createIconSVGExternal","createSanitizedElement","constructPoweredByBeacon","constructToastContainer","document","window","EXPAND_AFTER","timeout","expandTimeout","globalToastConfig","createActionItem","toastAction","__awaiter","text","isBold","actionText","actionLogo","actionCallback","id","wrapper","createElement","classList","add","removeAllChildNodes","wrapBold","element","length","appendChild","textEl","undefined","addEventListener","parent","firstChild","removeChild","formatToastText","html","walletIcon","walletInfo","_a","icon","walletName","_b","name","walletEl","walletNameEl","splits","split","out","x","push","getToastHTML","config","body","elements","outerEl","toastContainerEl","style","default","css","closeToast","Promise","resolve","getElementById","elm","shadowRoot","animationDuration","clearTimeout","className","replace","setTimeout","parentNode","registerClick","callback","button","showElement","el","remove","hideElement","hideLoader","showExpand","showClose","collapseList","expandButton","list","expandList","expandOrCollapseList","contains","addActionsToToast","toastConfig","actions","actionPromises","map","action","actionItems","all","forEach","item","poweredByBeacon","createNewToast","timer","shadowRootEl","setAttribute","attachShadow","mode","styleEl","textContent","prepend","colorMode","openWalletButtonEl","openWalletAction","state","closeButton","updateToast","toastTextEl","doneButton","openToast","forceNew"],"sourceRoot":"","sources":["../../../../src/ui/toast/Toast.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}