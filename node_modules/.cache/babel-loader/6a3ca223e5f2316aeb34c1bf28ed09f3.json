{"ast":null,"code":"// Taken from https://github.com/WalletConnect/walletconnect-monorepo/blob/master/packages/qrcode-modal/src/browser.ts\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { windowRef } from '@airgap/beacon-core';\nimport { generateGUID } from '@airgap/beacon-utils';\nimport { alertTemplates } from './alert-templates';\nimport { preparePairingAlert } from './PairingAlert';\nimport { getColorMode } from '../../utils/colorMode';\nimport { createSanitizedElement } from '../../utils/html-elements';\nimport { constructDefaultAlert, constructPairAlert } from '../../utils/templates';\nlet lastFocusedElement;\nlet document;\n\nif (typeof window !== 'undefined' && typeof window.document !== 'undefined') {\n  document = window.document;\n}\n\nconst timeout = {};\n\nconst addQR = dataString => {\n  if (typeof dataString === 'string') {\n    return createSanitizedElement('div', [], [['id', 'beacon--qr__container']], [createSanitizedElement('div', [], [['id', 'beacon--qr__copy__container']], [createSanitizedElement('button', ['beacon-modal__button--outline'], [['id', 'beacon--qr__copy']], 'Copy')])]);\n  }\n\n  return createSanitizedElement('span', [], [], '');\n};\n\nconst formatAlert = (id, body, title, buttons, hasPairingPayload) => {\n  const callToAction = title;\n  const buttonsHtml = buttons.map((button, index) => createSanitizedElement('button', [`beacon-modal__button${button.style === 'outline' ? '--outline' : ''}`], [['id', `beacon-alert-${id}-${index}`]], button.text));\n  let allStyles = alertTemplates.default.css;\n\n  if (hasPairingPayload) {\n    allStyles += alertTemplates.pair.css;\n  }\n\n  const callToActionEl = createSanitizedElement('span', [], [], callToAction);\n  const alertEl = hasPairingPayload ? constructPairAlert(id, [callToActionEl], buttonsHtml, [body]) : constructDefaultAlert(id, [callToActionEl], buttonsHtml, [body]);\n  return {\n    style: allStyles,\n    html: alertEl\n  };\n};\n/**\n * Close an alert by ID\n *\n * @param id ID of alert\n */\n\n\nconst closeAlert = id => {\n  windowRef.postMessage(`closeAlert-${id}`);\n  return new Promise(resolve => {\n    var _a;\n\n    const wrapper = document.getElementById(`beacon-alert-wrapper-${id}`);\n\n    if (!wrapper) {\n      return resolve();\n    }\n\n    const elm = (_a = wrapper.shadowRoot) === null || _a === void 0 ? void 0 : _a.getElementById(`beacon-alert-modal-${id}`);\n\n    if (elm) {\n      const animationDuration = 300;\n      const localTimeout = timeout[id];\n\n      if (localTimeout) {\n        clearTimeout(localTimeout);\n        timeout[id] = undefined;\n      }\n\n      elm.className = elm.className.replace('fadeIn', 'fadeOut');\n      window.setTimeout(() => {\n        const parent = wrapper.parentNode;\n\n        if (parent) {\n          parent.removeChild(wrapper);\n        }\n\n        if (lastFocusedElement) {\n          ;\n          lastFocusedElement.focus(); // set focus back to last focussed element\n        }\n\n        resolve();\n      }, animationDuration);\n    } else {\n      resolve();\n    }\n  });\n};\n/**\n * Close all alerts\n */\n\n\nconst closeAlerts = () => __awaiter(void 0, void 0, void 0, function* () {\n  return new Promise(resolve => __awaiter(void 0, void 0, void 0, function* () {\n    const openAlertElements = document.querySelectorAll('[id^=\"beacon-alert-wrapper-\"]');\n\n    if (openAlertElements.length > 0) {\n      const alertIds = [];\n      openAlertElements.forEach(element => __awaiter(void 0, void 0, void 0, function* () {\n        alertIds.push(element.id.split('-')[3]);\n      }));\n      yield Promise.all(alertIds.map(closeAlert));\n      resolve();\n    } else {\n      resolve();\n    }\n  }));\n});\n/**\n * Show an alert\n *\n * @param alertConfig The configuration of the alert\n */\n// eslint-disable-next-line complexity\n\n\nconst openAlert = alertConfig => __awaiter(void 0, void 0, void 0, function* () {\n  var _a, _b;\n\n  const body = alertConfig.body;\n  const data = alertConfig.data;\n  const title = alertConfig.title;\n  const timer = alertConfig.timer;\n  const pairingPayload = alertConfig.pairingPayload;\n  const disclaimer = alertConfig.disclaimerText; // eslint-disable-next-line @typescript-eslint/unbound-method\n\n  const closeButtonCallback = alertConfig.closeButtonCallback;\n  yield closeAlerts();\n  const id = (yield generateGUID()).split('-').join('');\n  const shadowRootEl = document.createElement('div');\n  shadowRootEl.setAttribute('id', `beacon-alert-wrapper-${id}`);\n  const shadowRoot = shadowRootEl.attachShadow({\n    mode: 'open'\n  });\n  const wrapper = document.createElement('div');\n  wrapper.setAttribute('tabindex', `0`); // Make modal focussable\n\n  shadowRoot.appendChild(wrapper);\n  const buttons = [...((_b = (_a = alertConfig.buttons) === null || _a === void 0 ? void 0 : _a.map(button => {\n    var _a, _b;\n\n    return {\n      text: button.text,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      actionCallback: (_a = button.actionCallback) !== null && _a !== void 0 ? _a : () => Promise.resolve(),\n      style: (_b = button.style) !== null && _b !== void 0 ? _b : 'outline'\n    };\n  })) !== null && _b !== void 0 ? _b : [])];\n  let formattedBody = pairingPayload ? addQR(body) : createSanitizedElement('span', [], [], body !== null && body !== void 0 ? body : '');\n\n  if (data) {\n    formattedBody = createSanitizedElement('span', [], [], [formattedBody, createSanitizedElement('pre', [], [['style', 'text-align: left']], data)]);\n  }\n\n  const {\n    style,\n    html\n  } = formatAlert(id, formattedBody, title, buttons, !!(pairingPayload === null || pairingPayload === void 0 ? void 0 : pairingPayload.p2pSyncCode));\n  wrapper.appendChild(html);\n  const styleEl = document.createElement('style');\n  styleEl.textContent = style;\n  shadowRoot.appendChild(styleEl);\n\n  if (timer) {\n    timeout[id] = window.setTimeout(() => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeAlert(id);\n    }), timer);\n  }\n\n  document.body.prepend(shadowRootEl);\n  const closeButton = shadowRoot.getElementById(`beacon-alert-${id}-close`);\n\n  const closeButtonClick = () => __awaiter(void 0, void 0, void 0, function* () {\n    if (closeButtonCallback) {\n      closeButtonCallback();\n    }\n\n    yield closeAlert(id);\n  });\n\n  if (disclaimer) {\n    const disclaimerContainer = shadowRoot.getElementById(`beacon--disclaimer`);\n\n    if (disclaimerContainer) {\n      disclaimerContainer.innerText = disclaimer;\n    }\n  }\n\n  const colorMode = getColorMode();\n  const elm = shadowRoot.getElementById(`beacon-alert-modal-${id}`);\n\n  if (elm) {\n    elm.classList.add(`theme__${colorMode}`);\n    elm.addEventListener('click', closeButtonClick); // Backdrop click dismisses alert\n  }\n\n  const modal = shadowRoot.querySelectorAll('.beacon-modal__wrapper');\n\n  if (modal.length > 0) {\n    modal[0].addEventListener('click', event => {\n      event.stopPropagation();\n    });\n  }\n\n  lastFocusedElement = document.activeElement; // Store which element has been focussed before the alert is shown\n\n  wrapper.focus(); // Focus alert for accessibility\n\n  buttons.forEach((button, index) => {\n    const buttonElement = shadowRoot.getElementById(`beacon-alert-${id}-${index}`);\n\n    if (buttonElement) {\n      buttonElement.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\n        yield closeAlert(id);\n\n        if (button.actionCallback) {\n          yield button.actionCallback();\n        }\n      }));\n    }\n  });\n\n  if (closeButton) {\n    closeButton.addEventListener('click', () => __awaiter(void 0, void 0, void 0, function* () {\n      yield closeButtonClick();\n    }));\n  }\n\n  window.addEventListener('keydown', event => __awaiter(void 0, void 0, void 0, function* () {\n    if (event.key === 'Escape') {\n      yield closeButtonClick();\n    }\n  }));\n\n  if (pairingPayload) {\n    yield preparePairingAlert(id, shadowRoot, pairingPayload);\n  }\n\n  return id;\n});\n\nexport { closeAlert, closeAlerts, openAlert };","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,SAASA,SAAT,QAA0B,qBAA1B;AACA,SAASC,YAAT,QAA6B,sBAA7B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,mBAAT,QAAoC,gBAApC;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,SAASC,sBAAT,QAAuC,2BAAvC;AACA,SAASC,qBAAT,EAAgCC,kBAAhC,QAA0D,uBAA1D;AAuBA,IAAIC,kBAAJ;AAEA,IAAIC,QAAJ;;AACA,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACD,QAAd,KAA2B,WAAhE,EAA6E;EAC3EA,QAAQ,GAAGC,MAAM,CAACD,QAAlB;AACD;;AAED,MAAME,OAAO,GAAuC,EAApD;;AAEA,MAAMC,KAAK,GAAIC,UAAD,IAAqC;EACjD,IAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;IAClC,OAAOR,sBAAsB,CAC3B,KAD2B,EAE3B,EAF2B,EAG3B,CAAC,CAAC,IAAD,EAAO,uBAAP,CAAD,CAH2B,EAI3B,CACEA,sBAAsB,CACpB,KADoB,EAEpB,EAFoB,EAGpB,CAAC,CAAC,IAAD,EAAO,6BAAP,CAAD,CAHoB,EAIpB,CACEA,sBAAsB,CACpB,QADoB,EAEpB,CAAC,+BAAD,CAFoB,EAGpB,CAAC,CAAC,IAAD,EAAO,kBAAP,CAAD,CAHoB,EAIpB,MAJoB,CADxB,CAJoB,CADxB,CAJ2B,CAA7B;EAoBD;;EAED,OAAOA,sBAAsB,CAAC,MAAD,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,CAA7B;AACD,CAzBD;;AA2BA,MAAMS,WAAW,GAAG,CAClBC,EADkB,EAElBC,IAFkB,EAGlBC,KAHkB,EAIlBC,OAJkB,EAKlBC,iBALkB,KAShB;EACF,MAAMC,YAAY,GAAWH,KAA7B;EACA,MAAMI,WAAW,GAAGH,OAAO,CAACI,GAAR,CAAY,CAACC,MAAD,EAASC,KAAT,KAC9BnB,sBAAsB,CACpB,QADoB,EAEpB,CAAC,uBAAuBkB,MAAM,CAACE,KAAP,KAAiB,SAAjB,GAA6B,WAA7B,GAA2C,EAAE,EAArE,CAFoB,EAGpB,CAAC,CAAC,IAAD,EAAO,gBAAgBV,EAAE,IAAIS,KAAK,EAAlC,CAAD,CAHoB,EAIpBD,MAAM,CAACG,IAJa,CADJ,CAApB;EASA,IAAIC,SAAS,GAAGzB,cAAc,CAAC0B,OAAf,CAAuBC,GAAvC;;EAEA,IAAIV,iBAAJ,EAAuB;IACrBQ,SAAS,IAAIzB,cAAc,CAAC4B,IAAf,CAAoBD,GAAjC;EACD;;EAED,MAAME,cAAc,GAAG1B,sBAAsB,CAAC,MAAD,EAAS,EAAT,EAAa,EAAb,EAAiBe,YAAjB,CAA7C;EAEA,MAAMY,OAAO,GAAGb,iBAAiB,GAC7BZ,kBAAkB,CAACQ,EAAD,EAAK,CAACgB,cAAD,CAAL,EAAuBV,WAAvB,EAAoC,CAACL,IAAD,CAApC,CADW,GAE7BV,qBAAqB,CAACS,EAAD,EAAK,CAACgB,cAAD,CAAL,EAAuBV,WAAvB,EAAoC,CAACL,IAAD,CAApC,CAFzB;EAIA,OAAO;IACLS,KAAK,EAAEE,SADF;IAELM,IAAI,EAAED;EAFD,CAAP;AAID,CApCD;AAsCA;;;;;;;AAKA,MAAME,UAAU,GAAInB,EAAD,IAA8B;EAC/Cf,SAAS,CAACmC,WAAV,CAAsB,cAAcpB,EAAE,EAAtC;EAEA,OAAO,IAAIqB,OAAJ,CAAaC,OAAD,IAAY;;;IAC7B,MAAMC,OAAO,GAAG7B,QAAQ,CAAC8B,cAAT,CAAwB,wBAAwBxB,EAAE,EAAlD,CAAhB;;IACA,IAAI,CAACuB,OAAL,EAAc;MACZ,OAAOD,OAAO,EAAd;IACD;;IAED,MAAMG,GAAG,GAAG,aAAO,CAACC,UAAR,MAAkB,IAAlB,IAAkBC,aAAlB,GAAkB,MAAlB,GAAkBA,GAAEH,cAAF,CAAiB,sBAAsBxB,EAAE,EAAzC,CAA9B;;IACA,IAAIyB,GAAJ,EAAS;MACP,MAAMG,iBAAiB,GAAG,GAA1B;MAEA,MAAMC,YAAY,GAAGjC,OAAO,CAACI,EAAD,CAA5B;;MACA,IAAI6B,YAAJ,EAAkB;QAChBC,YAAY,CAACD,YAAD,CAAZ;QACAjC,OAAO,CAACI,EAAD,CAAP,GAAc+B,SAAd;MACD;;MAEDN,GAAG,CAACO,SAAJ,GAAgBP,GAAG,CAACO,SAAJ,CAAcC,OAAd,CAAsB,QAAtB,EAAgC,SAAhC,CAAhB;MACAtC,MAAM,CAACuC,UAAP,CAAkB,MAAK;QACrB,MAAMC,MAAM,GAAGZ,OAAO,CAACa,UAAvB;;QACA,IAAID,MAAJ,EAAY;UACVA,MAAM,CAACE,WAAP,CAAmBd,OAAnB;QACD;;QAED,IAAI9B,kBAAJ,EAAwB;UACtB;UAAEA,kBAA0B,CAAC6C,KAA3B,GADoB,CACe;QACtC;;QACDhB,OAAO;MACR,CAVD,EAUGM,iBAVH;IAWD,CArBD,MAqBO;MACLN,OAAO;IACR;EACF,CA/BM,CAAP;AAgCD,CAnCD;AAqCA;;;;;AAGA,MAAMiB,WAAW,GAAG,MAA0BC;EAC5C,WAAInB,OAAJ,CAAmBC,OAAP,IAAkBkB;IAC5B,MAAMC,iBAAiB,GAAG/C,QAAQ,CAACgD,gBAAT,CAA0B,+BAA1B,CAA1B;;IACA,IAAID,iBAAiB,CAACE,MAAlB,GAA2B,CAA/B,EAAkC;MAChC,MAAMC,QAAQ,GAAa,EAA3B;MACAH,iBAAiB,CAACI,OAAlB,CAAiCC,OAAP,IAAkBN;QAC1CI,QAAQ,CAACG,IAAT,CAAcD,OAAO,CAAC9C,EAAR,CAAWgD,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAd;MACD,CAF2C,CAA5C;MAGA,MAAM3B,OAAO,CAAC4B,GAAR,CAAYL,QAAQ,CAACrC,GAAT,CAAaY,UAAb,CAAZ,CAAN;MACAG,OAAO;IACR,CAPD,MAOO;MACLA,OAAO;IACR;EACF,CAZ6B,CAA9B;CAD4C,CAA9C;AAeA;;;;;AAKA;;;AACA,MAAM4B,SAAS,GAAUC,WAAP,IAAoDX;;;EACpE,MAAMvC,IAAI,GAAGkD,WAAW,CAAClD,IAAzB;EACA,MAAMmD,IAAI,GAAGD,WAAW,CAACC,IAAzB;EACA,MAAMlD,KAAK,GAAGiD,WAAW,CAACjD,KAA1B;EACA,MAAMmD,KAAK,GAAGF,WAAW,CAACE,KAA1B;EACA,MAAMC,cAAc,GAAGH,WAAW,CAACG,cAAnC;EACA,MAAMC,UAAU,GAAGJ,WAAW,CAACK,cAA/B,CANoE,CAOpE;;EACA,MAAMC,mBAAmB,GAAGN,WAAW,CAACM,mBAAxC;EAEA,MAAMlB,WAAW,EAAjB;EAEA,MAAMvC,EAAE,GAAG,CAAC,MAAMd,YAAY,EAAnB,EAAuB8D,KAAvB,CAA6B,GAA7B,EAAkCU,IAAlC,CAAuC,EAAvC,CAAX;EAEA,MAAMC,YAAY,GAAGjE,QAAQ,CAACkE,aAAT,CAAuB,KAAvB,CAArB;EACAD,YAAY,CAACE,YAAb,CAA0B,IAA1B,EAAgC,wBAAwB7D,EAAE,EAA1D;EACA,MAAM0B,UAAU,GAAGiC,YAAY,CAACG,YAAb,CAA0B;IAAEC,IAAI,EAAE;EAAR,CAA1B,CAAnB;EAEA,MAAMxC,OAAO,GAAG7B,QAAQ,CAACkE,aAAT,CAAuB,KAAvB,CAAhB;EACArC,OAAO,CAACsC,YAAR,CAAqB,UAArB,EAAiC,GAAjC,EAnBoE,CAmB9B;;EAEtCnC,UAAU,CAACsC,WAAX,CAAuBzC,OAAvB;EAEA,MAAMpB,OAAO,GAAkB,CAC7B,IAAI,uBAAW,CAACA,OAAZ,MAAmB,IAAnB,IAAmBwB,aAAnB,GAAmB,MAAnB,GAAmBA,GAAEpB,GAAF,CAAOC,MAAD,IAAW;;;IAAC,OAAC;MACxCG,IAAI,EAAEH,MAAM,CAACG,IAD2B;MAExC;MACAsD,cAAc,EAAE,YAAM,CAACA,cAAP,MAAqB,IAArB,IAAqBtC,aAArB,GAAqBA,EAArB,GAA0B,MAAMN,OAAO,CAACC,OAAR,EAHR;MAIxCZ,KAAK,EAAE,YAAM,CAACA,KAAP,MAAY,IAAZ,IAAYwD,aAAZ,GAAYA,EAAZ,GAAgB;IAJiB,CAAD;EAKvC,CALqB,CAAnB,MAKD,IALC,IAKDA,aALC,GAKDA,EALC,GAKG,EALP,CAD6B,CAA/B;EASA,IAAIC,aAAa,GAAGb,cAAc,GAC9BzD,KAAK,CAACI,IAAD,CADyB,GAE9BX,sBAAsB,CAAC,MAAD,EAAS,EAAT,EAAa,EAAb,EAAiBW,IAAI,SAAJ,QAAI,WAAJ,UAAQ,EAAzB,CAF1B;;EAIA,IAAImD,IAAJ,EAAU;IACRe,aAAa,GAAG7E,sBAAsB,CACpC,MADoC,EAEpC,EAFoC,EAGpC,EAHoC,EAIpC,CAAC6E,aAAD,EAAgB7E,sBAAsB,CAAC,KAAD,EAAQ,EAAR,EAAY,CAAC,CAAC,OAAD,EAAU,kBAAV,CAAD,CAAZ,EAA6C8D,IAA7C,CAAtC,CAJoC,CAAtC;EAMD;;EAED,MAAM;IAAE1C,KAAF;IAASQ;EAAT,IAAkBnB,WAAW,CACjCC,EADiC,EAEjCmE,aAFiC,EAGjCjE,KAHiC,EAIjCC,OAJiC,EAKjC,CAAC,EAACmD,cAAc,SAAd,kBAAc,WAAd,GAAc,MAAd,iBAAc,CAAEc,WAAjB,CALgC,CAAnC;EAOA7C,OAAO,CAACyC,WAAR,CAAoB9C,IAApB;EAEA,MAAMmD,OAAO,GAAG3E,QAAQ,CAACkE,aAAT,CAAuB,OAAvB,CAAhB;EAEAS,OAAO,CAACC,WAAR,GAAsB5D,KAAtB;EACAgB,UAAU,CAACsC,WAAX,CAAuBK,OAAvB;;EAEA,IAAIhB,KAAJ,EAAW;IACTzD,OAAO,CAACI,EAAD,CAAP,GAAcL,MAAM,CAACuC,UAAP,CAAkB,MAAWM;MACzC,MAAMrB,UAAU,CAACnB,EAAD,CAAhB;IACD,CAF0C,CAA7B,EAEXqD,KAFW,CAAd;EAGD;;EAED3D,QAAQ,CAACO,IAAT,CAAcsE,OAAd,CAAsBZ,YAAtB;EAEA,MAAMa,WAAW,GAAG9C,UAAU,CAACF,cAAX,CAA0B,gBAAgBxB,EAAE,QAA5C,CAApB;;EAEA,MAAMyE,gBAAgB,GAAG,MAA0BjC;IACjD,IAAIiB,mBAAJ,EAAyB;MACvBA,mBAAmB;IACpB;;IACD,MAAMtC,UAAU,CAACnB,EAAD,CAAhB;EACD,CALkD,CAAnD;;EAOA,IAAIuD,UAAJ,EAAgB;IACd,MAAMmB,mBAAmB,GAAGhD,UAAU,CAACF,cAAX,CAA0B,oBAA1B,CAA5B;;IACA,IAAIkD,mBAAJ,EAAyB;MACvBA,mBAAmB,CAACC,SAApB,GAAgCpB,UAAhC;IACD;EACF;;EAED,MAAMqB,SAAS,GAAGvF,YAAY,EAA9B;EACA,MAAMoC,GAAG,GAAGC,UAAU,CAACF,cAAX,CAA0B,sBAAsBxB,EAAE,EAAlD,CAAZ;;EACA,IAAIyB,GAAJ,EAAS;IACPA,GAAG,CAACoD,SAAJ,CAAcC,GAAd,CAAkB,UAAUF,SAAS,EAArC;IACAnD,GAAG,CAACsD,gBAAJ,CAAqB,OAArB,EAA8BN,gBAA9B,EAFO,CAEyC;EACjD;;EAED,MAAMO,KAAK,GAAGtD,UAAU,CAACgB,gBAAX,CAA4B,wBAA5B,CAAd;;EACA,IAAIsC,KAAK,CAACrC,MAAN,GAAe,CAAnB,EAAsB;IACpBqC,KAAK,CAAC,CAAD,CAAL,CAASD,gBAAT,CAA0B,OAA1B,EAAoCE,KAAD,IAAU;MAC3CA,KAAK,CAACC,eAAN;IACD,CAFD;EAGD;;EAEDzF,kBAAkB,GAAGC,QAAQ,CAACyF,aAA9B,CAjGoE,CAiGxB;;EAC5C5D,OAAO,CAACe,KAAR,GAlGoE,CAkGpD;;EAEhBnC,OAAO,CAAC0C,OAAR,CAAgB,CAACrC,MAAD,EAAsBC,KAAtB,KAA+B;IAC7C,MAAM2E,aAAa,GAAG1D,UAAU,CAACF,cAAX,CAA0B,gBAAgBxB,EAAE,IAAIS,KAAK,EAArD,CAAtB;;IACA,IAAI2E,aAAJ,EAAmB;MACjBA,aAAa,CAACL,gBAAd,CAA+B,OAA/B,EAAwC,MAAWvC;QACjD,MAAMrB,UAAU,CAACnB,EAAD,CAAhB;;QACA,IAAIQ,MAAM,CAACyD,cAAX,EAA2B;UACzB,MAAMzD,MAAM,CAACyD,cAAP,EAAN;QACD;MACF,CALkD,CAAnD;IAMD;EACF,CAVD;;EAYA,IAAIO,WAAJ,EAAiB;IACfA,WAAW,CAACO,gBAAZ,CAA6B,OAA7B,EAAsC,MAAWvC;MAC/C,MAAMiC,gBAAgB,EAAtB;IACD,CAFgD,CAAjD;EAGD;;EAED9E,MAAM,CAACoF,gBAAP,CAAwB,SAAxB,EAA0CE,KAAP,IAAgBzC;IACjD,IAAIyC,KAAK,CAACI,GAAN,KAAc,QAAlB,EAA4B;MAC1B,MAAMZ,gBAAgB,EAAtB;IACD;EACF,CAJkD,CAAnD;;EAMA,IAAInB,cAAJ,EAAoB;IAClB,MAAMlE,mBAAmB,CAACY,EAAD,EAAK0B,UAAL,EAAiB4B,cAAjB,CAAzB;EACD;;EAED,OAAOtD,EAAP;AACD,CAjIqE,CAAtE;;AAmIA,SAASmB,UAAT,EAAqBoB,WAArB,EAAkCW,SAAlC","names":["windowRef","generateGUID","alertTemplates","preparePairingAlert","getColorMode","createSanitizedElement","constructDefaultAlert","constructPairAlert","lastFocusedElement","document","window","timeout","addQR","dataString","formatAlert","id","body","title","buttons","hasPairingPayload","callToAction","buttonsHtml","map","button","index","style","text","allStyles","default","css","pair","callToActionEl","alertEl","html","closeAlert","postMessage","Promise","resolve","wrapper","getElementById","elm","shadowRoot","_a","animationDuration","localTimeout","clearTimeout","undefined","className","replace","setTimeout","parent","parentNode","removeChild","focus","closeAlerts","__awaiter","openAlertElements","querySelectorAll","length","alertIds","forEach","element","push","split","all","openAlert","alertConfig","data","timer","pairingPayload","disclaimer","disclaimerText","closeButtonCallback","join","shadowRootEl","createElement","setAttribute","attachShadow","mode","appendChild","actionCallback","_b","formattedBody","p2pSyncCode","styleEl","textContent","prepend","closeButton","closeButtonClick","disclaimerContainer","innerText","colorMode","classList","add","addEventListener","modal","event","stopPropagation","activeElement","buttonElement","key"],"sourceRoot":"","sources":["../../../../src/ui/alert/Alert.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}