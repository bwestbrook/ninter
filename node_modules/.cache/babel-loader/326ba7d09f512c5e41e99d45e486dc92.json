{"ast":null,"code":"/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function retry(count) {\n  if (count === void 0) {\n    count = -1;\n  }\n\n  return function (source) {\n    return source.lift(new RetryOperator(count, source));\n  };\n}\n\nvar RetryOperator = /*@__PURE__*/function () {\n  function RetryOperator(count, source) {\n    this.count = count;\n    this.source = source;\n  }\n\n  RetryOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n  };\n\n  return RetryOperator;\n}();\n\nvar RetrySubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(RetrySubscriber, _super);\n\n  function RetrySubscriber(destination, count, source) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.count = count;\n    _this.source = source;\n    return _this;\n  }\n\n  RetrySubscriber.prototype.error = function (err) {\n    if (!this.isStopped) {\n      var _a = this,\n          source = _a.source,\n          count = _a.count;\n\n      if (count === 0) {\n        return _super.prototype.error.call(this, err);\n      } else if (count > -1) {\n        this.count = count - 1;\n      }\n\n      source.subscribe(this._unsubscribeAndRecycle());\n    }\n  };\n\n  return RetrySubscriber;\n}(Subscriber);","map":{"version":3,"mappings":";AACA,OAAO,KAAEA,OAAT,MAAqB,OAArB;AAmDA,SAAMC,UAAN,QAA2C,eAA3C;OAAyB;EACvB,SAAO,UAAC,CAAR,EAAQ;IACTC;EAED;;EACE,yBAAoB;IAAA,OACAC,MAAqB,KAArB,CAAqB,gCAArB,CADA;EACqB,CADzC;;;iBACoB,GAAM,aAAe;EACzC,SAACC,aAAD,CAACF,KAAD,EAACC,MAAD,EAAC;IAED;IACE,cAAcA,MAAd;EACD;;EACHC,wBAACC,IAAD,GAAC;IAAA;EAOD,CAPA;;EAOiC;CAbU;;mBAczC,GAGE,uBAAMC,MAAN,EAAkB;SAFA,4BAAaA;;WACbC,gBAAMC,aAAeN;;;IAExCO;IACDA;IACE,OAAKA,KAAL;;;iBAEM,WAAaC;cACfC,WAAO;UACRC;UAAAT;UAAAD;;eAAU,KAAK,GAAG;QACjB,OAAKI,MAAQ,UAAR,CAAkBI,KAAlB,CAAkBL,IAAlB,CAAkB,IAAlB,EAAkBQ,GAAlB,CAAL;MACD,OACD,IAAOX,QAAU,EAAjB,EAAqB;QACtB;MACF;;MACHC,iBAAC,6BAAD;IAjBiC;;;;CAI7B","names":["tslib_1","Subscriber","count","source","RetryOperator","call","_super","RetrySubscriber","destination","_this","error","isStopped","_a","err"],"sources":["../../../src/internal/operators/retry.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}